<!doctype html>
<html lang="zh-cn" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.2">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="LANTEN Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="LANTEN Blog Atom Feed">
<link rel="stylesheet" href="//at.alicdn.com/t/font_599565_s74s9c3vm6.css"><title data-react-helmet="true">Typescript - 进阶篇 | LANTEN</title><meta data-react-helmet="true" name="description" content="- 对基础篇的补充"><meta data-react-helmet="true" property="og:description" content="- 对基础篇的补充"><meta data-react-helmet="true" property="og:url" content="https://www.lanten.me/blog/typescript-advanced"><meta data-react-helmet="true" name="docusaurus_locale" content="zh-cn"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="Typescript - 进阶篇 | LANTEN"><meta data-react-helmet="true" name="keywords" content="前端,web,Typescript"><meta data-react-helmet="true" property="og:image" content="https://source.unsplash.com/user/lanten/likes?key=3"><meta data-react-helmet="true" name="twitter:image" content="https://source.unsplash.com/user/lanten/likes?key=3"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://www.lanten.me/blog/typescript-advanced"><link data-react-helmet="true" rel="alternate" href="https://www.lanten.me/blog/typescript-advanced" hreflang="zh-cn"><link data-react-helmet="true" rel="alternate" href="https://www.lanten.me/blog/typescript-advanced" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.8c1ab9c2.css">
<link rel="preload" href="/assets/js/runtime~main.aa66a4f9.js" as="script">
<link rel="preload" href="/assets/js/main.e753ad49.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/avatar.jpg" alt="Lanten Avatar" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/avatar.jpg" alt="Lanten Avatar" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Lanten</b></a><a class="navbar__item navbar__link" href="/docs/README">笔记</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">博客</a><a class="navbar__item navbar__link" href="/blog/tags">标签</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/lanten" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><i class="navbar__item navbar__link icon icon-github fs-18 pr-4 fade-link"></i>Github</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--checked react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">🌞</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" checked="" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="navbar__search searchBarContainer_MM2z"><input placeholder="搜索" aria-label="Search" class="navbar__search-input"><div class="loadingRing_s5VG searchBarLoadingRing_2jQk"><div></div><div></div><div></div><div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/avatar.jpg" alt="Lanten Avatar" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/avatar.jpg" alt="Lanten Avatar" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">Lanten</b></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/README">笔记</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/blog">博客</a></li><li class="menu__list-item"><a class="menu__link" href="/blog/tags">标签</a></li><li class="menu__list-item"><a href="https://github.com/lanten" target="_blank" rel="noopener noreferrer" class="menu__link"><i class="navbar__item navbar__link icon icon-github fs-18 pr-4 fade-link"></i>Github</a></li></ul></div></div></div></nav><div class="main-wrapper blog-wrapper blog-post-page" data-title="Typescript - 进阶篇"><img class="post-banner-image" src="https://source.unsplash.com/user/lanten/likes?key=3"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"></aside><main class="col col--7"><article class="post-content"><div class="list-card-content"><header class="post-header"><h1 class="blogPostTitle_nmLu">Typescript - 进阶篇</h1><div class="blogPostData_3WzT margin-vert--md"><time datetime="2021-08-12T00:00:00.000Z">2021年8月12日</time> · 11 分钟阅读</div><div class="avatar margin-vert--md"><div class="avatar__intro"></div></div></header><div class="markdown"><ul><li>对基础篇的补充</li><li>泛型的使用方法和场景</li><li>常用泛型工具</li><li>配合 React 使用实例</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="三斜杠--reference-导入"></a>三斜杠 + reference 导入<a class="hash-link" href="#三斜杠--reference-导入" title="Direct link to heading">#</a></h2><p>将 TypeScript 类型声明拆分。使用 <a href="https://www.tslang.cn/docs/handbook/triple-slash-directives.html" target="_blank" rel="noopener noreferrer">三斜杠指令</a> + reference 引用可以大大缩短构建和编辑器的交互时间，强制组件之间的逻辑分离，并以新的和改进的方式组织代码</p><p>相关文档：<a href="https://www.typescriptlang.org/docs/handbook/project-references.html" target="_blank" rel="noopener noreferrer">https://www.typescriptlang.org/docs/handbook/project-references.html</a></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/// &lt;reference path=&quot;xxx.ts&quot; /&gt;</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="从文件中直接引用类型"></a>从文件中直接引用类型<a class="hash-link" href="#从文件中直接引用类型" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div style="color:#bfc7d5;background-color:#282e3a" class="codeBlockTitle_eoMF">xxx.ts</div><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar codeBlockWithTitle_2JqI" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ./xxx.ts</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">TypeName</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// ...</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">import</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;./xxx.ts&#x27;</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token property-access maybe-class-name" style="color:#ffcb6b">TypeName</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>这种引用方式不需要在文件头部写 import 声明，也不需要将类型导入全局。</li><li>主要优势是可以快速导入单个类型，但如果需要导入同一文件中的多个类型，还是推荐使用 import 声明。</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="namespace-命名空间"></a>namespace 命名空间<a class="hash-link" href="#namespace-命名空间" title="Direct link to heading">#</a></h2><p>namespace 主要用于类型分组，也可用于配合 class(类) 声明类型。</p><p>官方文档：<a href="https://www.typescriptlang.org/docs/handbook/namespaces.html#namespacing" target="_blank" rel="noopener noreferrer">https://www.typescriptlang.org/docs/handbook/namespaces.html#namespacing</a></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">namespace</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Shapes</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">namespace</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Polygons</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">Triangle</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">Square</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">Round</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">const</span><span class="token plain"> a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Shapes</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token property-access maybe-class-name" style="color:#ffcb6b">Polygons</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token property-access maybe-class-name" style="color:#ffcb6b">Triangle</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>namespace 中的类型可以被重写</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">namespace</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Shapes</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">Round</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    pi</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">number</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">namespace</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Polygons</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">Triangle</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      side</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">3</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>在全局类型声明文件 (*.d.ts) 中 <code>export</code> 关键字不是必须的。</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="模板字符串类型"></a>模板字符串类型<a class="hash-link" href="#模板字符串类型" title="Direct link to heading">#</a></h2><p>本质上就是字符串类型，通过在模板字符串 (``) 中插入类型，遍历出一个字符串联合类型。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">number</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  b</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">number</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  c</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;x&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;y&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;z&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T3</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">key-</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">${</span><span class="token template-string interpolation">keyof </span><span class="token template-string interpolation constant" style="color:#82aaff">T</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">-</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">${</span><span class="token template-string interpolation constant" style="color:#82aaff">T2</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">}</span><span class="token template-string string" style="color:rgb(195, 232, 141)">-</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">${</span><span class="token template-string interpolation">number</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 结果：</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T3</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">key-a-x-</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">${</span><span class="token template-string interpolation">number</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">key-a-y-</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">${</span><span class="token template-string interpolation">number</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">key-a-z-</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">${</span><span class="token template-string interpolation">number</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">key-b-x-</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">${</span><span class="token template-string interpolation">number</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">key-b-y-</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">${</span><span class="token template-string interpolation">number</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">key-b-z-</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">${</span><span class="token template-string interpolation">number</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">key-c-x-</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">${</span><span class="token template-string interpolation">number</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">key-c-y-</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">${</span><span class="token template-string interpolation">number</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span><span class="token template-string string" style="color:rgb(195, 232, 141)">key-c-z-</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">${</span><span class="token template-string interpolation">number</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#89ddff">}</span><span class="token template-string template-punctuation string" style="color:rgb(195, 232, 141)">`</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>主要作用就是对字符串联合做更精准的类型约束。</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="动态索引声明"></a>动态索引声明<a class="hash-link" href="#动态索引声明" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">[</span><span class="token constant" style="color:#82aaff">K</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">unknown</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><code>K</code> 是索引签名参数，类型必须为 &quot;string&quot; 或 &quot;number&quot;。</p><p><code>K</code> 不是固定名称，可以自定义语义话命名，如：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">[</span><span class="token maybe-class-name" style="color:#ffcb6b">StringKeys</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">unknown</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">[</span><span class="token maybe-class-name" style="color:#ffcb6b">NumberKeys</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">number</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">unknown</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="keyof-将一个类型的索引映射为联合类型"></a>keyof 将一个类型的索引映射为联合类型<a class="hash-link" href="#keyof-将一个类型的索引映射为联合类型" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">unknown</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  b</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">unknown</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  c</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">unknown</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">TKeys</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">keyof</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// =&gt; &#x27;a&#x27; | &#x27;b&#x27; | &#x27;c&#x27;</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>注意：如果包含动态索引，可能无法推断出指理想的联合类型。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">[</span><span class="token constant" style="color:#82aaff">K</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">unknown</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">unknown</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">TKeys</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">keyof</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// =&gt; string | number</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">[</span><span class="token constant" style="color:#82aaff">K</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">number</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">unknown</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">unknown</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">TKeys</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">keyof</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// =&gt; number | &quot;a&quot;</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="in"></a>in<a class="hash-link" href="#in" title="Direct link to heading">#</a></h2><p>in 关键字可以在索引中使用，用于映射需要推断的联合类型。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">const</span><span class="token plain"> obj </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">1</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  b</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">2</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  c</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;3&#x27;</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">Keys</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">keyof</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">typeof</span><span class="token plain"> obj </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// &#x27;a&#x27; | &#x27;b&#x27; | &#x27;c&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">[</span><span class="token constant" style="color:#82aaff">K</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">in</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Keys</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">typeof</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token constant" style="color:#82aaff">K</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>类型 T 的推断结果：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">number</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  b</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">number</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  c</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="索引引用"></a>索引引用<a class="hash-link" href="#索引引用" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">number</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  b</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">number</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  c</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a&#x27;</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T3</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;c&#x27;</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// T2 = number</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// T3 = string</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="声明合并"></a>声明合并<a class="hash-link" href="#声明合并" title="Direct link to heading">#</a></h2><p>将多个相同名称的类型合并。详情查看<a href="https://www.tslang.cn/docs/handbook/declaration-merging.html" target="_blank" rel="noopener noreferrer">文档</a></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">Box</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  height</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">number</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  width</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">number</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">Box</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  scale</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">number</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">let</span><span class="token plain"> box</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Box</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"> height</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">5</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> width</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">6</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> scale</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">10</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>以上内容是对基础篇的补充</p></blockquote><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="泛型"></a>泛型<a class="hash-link" href="#泛型" title="Direct link to heading">#</a></h2><p>泛型就是可以传递参数并使用参数的类型。</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="泛型参数"></a>泛型参数<a class="hash-link" href="#泛型参数" title="Direct link to heading">#</a></h3><p>通过在类型名称后面添加一对 <code>&lt;&gt;</code> 来声明泛型参数。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">RequestRes</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** 结果码:1000成功 其他情况参考码表 */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  businessCode</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** 返回对象 */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  content</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** 返回消息 */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  message</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** 响应描述 */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  responseDes</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** 子对象标识 */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  subEchoToken</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">TypeA</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">RequestRes</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token punctuation" style="color:#89ddff">{</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// {</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   businessCode?: string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   content?: {}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   message?: string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   responseDes?: string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   subEchoToken?: string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// }</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">TypeA</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">RequestRes</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token builtin" style="color:#82aaff">string</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// {</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   businessCode?: string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   content?: string[]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   message?: string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   responseDes?: string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   subEchoToken?: string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// }</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>泛型参数可以有多个，使用逻辑与函数一致。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">TypeA</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name constant" style="color:#82aaff">A</span><span class="token class-name punctuation" style="color:#89ddff">,</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name constant" style="color:#82aaff">B</span><span class="token class-name punctuation" style="color:#89ddff">,</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name constant" style="color:#82aaff">C</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">A</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  b</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">B</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  c</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">C</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>可以使用 <code>=</code> 赋予参数默认值，与 es6 语法中的函数默认值赋值方式一致。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">TypeA</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name operator" style="color:rgb(137, 221, 255)">=</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name builtin" style="color:#82aaff">unknown</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>没有默认值的泛型参数一律视为必填，如果在引用该泛型时没有传入，就会报错：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">TypeA</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">TypeB</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name operator" style="color:rgb(137, 221, 255)">=</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name builtin" style="color:#82aaff">unknown</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">NewTypeA</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">TypeA</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 报错</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">NewTypeB</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">TypeB</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 不报错</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="在函数中使用泛型"></a>在函数中使用泛型<a class="hash-link" href="#在函数中使用泛型" title="Direct link to heading">#</a></h3><p>通过在函数声明的括号前添加一对 <code>&lt;&gt;</code> 来声明泛型参数，配合函数生命的泛型参数可以在函数体中引用。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:#82aaff">assign</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token generic-function generic class-name constant" style="color:#82aaff">T1</span><span class="token generic-function generic class-name punctuation" style="color:#89ddff">,</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name constant" style="color:#82aaff">T2</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">obj1</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T1</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> obj2</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T2</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T1</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T2</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">return</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#ffcb6b">Object</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token method function property-access" style="color:#82aaff">assign</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">obj1</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> obj2</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">const</span><span class="token plain"> a </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:#82aaff">assign</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"> a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"> b</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;2&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 推断结果：</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// const a: {</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//     a: number;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// } &amp; {</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//     b: string;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// }</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>函数中声明泛型参数与直接声明形参类型有什么区别？</p><ul><li>泛型参数可以被重复引用</li><li>泛型参数可以在函数调用时传入</li><li>在 IDE 中获得更好的类型推断</li></ul><p>在什么情况下需要在函数中声明泛型？</p><ul><li>函数无法自动动推断类型时</li><li>需要传入与函数形参无关的类型时</li><li>函数体中需要多次引用参数类型时</li></ul><p>函数中的泛型参数与函数形参没有强关联性:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:#82aaff">pick</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token generic-function generic class-name constant" style="color:#82aaff">T</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">=</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name builtin" style="color:#82aaff">unknown</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">obj</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">unknown</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> pickedArr</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">let</span><span class="token plain"> result </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#ffcb6b">Object</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token method function property-access" style="color:#82aaff">assign</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">obj </span><span class="token operator" style="color:rgb(137, 221, 255)">!==</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">null</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">typeof</span><span class="token plain"> obj </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;object&#x27;</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    result </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token keyword" style="color:#c792ea;font-style:italic">const</span><span class="token plain"> key </span><span class="token keyword" style="color:#c792ea;font-style:italic">of</span><span class="token plain"> pickedArr</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="color:#c792ea;font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token known-class-name class-name" style="color:#ffcb6b">Object</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token method function property-access" style="color:#82aaff">hasOwnProperty</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token method function property-access" style="color:#82aaff">call</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> key</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        result</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">return</span><span class="token plain"> result</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">const</span><span class="token plain"> obj </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token number" style="color:#f78c6c">0</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">1</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">1</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  b</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">2</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  c</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;3&#x27;</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 调用 pick 函数时在括号前添加 &lt;&gt; 传入泛型参数</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">const</span><span class="token plain"> objH </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token generic-function function" style="color:#82aaff">pick</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token generic-function generic class-name punctuation" style="color:#89ddff">{</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> a</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">:</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name builtin" style="color:#82aaff">number</span><span class="token generic-function generic class-name punctuation" style="color:#89ddff">;</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> c</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">:</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name builtin" style="color:#82aaff">string</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name punctuation" style="color:#89ddff">}</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a&#x27;</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;c&#x27;</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 结果：</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// const objH: {</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   a: number</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   c: string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// }</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>在这个例子中泛型参数 <code>T</code> 与函数形参 <code>obj</code> 无关联，但被用作返回值的类型引用</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="泛型约束"></a>泛型约束<a class="hash-link" href="#泛型约束" title="Direct link to heading">#</a></h3><p>通过 <code>extends</code> 关键字可以对泛型参数进行类型约束，从而使该参数在后续使用和类型推断中更加精准</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:#82aaff">pick</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token generic-function generic class-name constant" style="color:#82aaff">T</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name maybe-class-name" style="color:#ffcb6b">Record</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token generic-function generic class-name builtin" style="color:#82aaff">string</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">|</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name builtin" style="color:#82aaff">number</span><span class="token generic-function generic class-name punctuation" style="color:#89ddff">,</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name builtin" style="color:#82aaff">unknown</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token generic-function generic class-name punctuation" style="color:#89ddff">,</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name constant" style="color:#82aaff">K</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name builtin" style="color:#82aaff">string</span><span class="token generic-function generic class-name punctuation" style="color:#89ddff">[</span><span class="token generic-function generic class-name punctuation" style="color:#89ddff">]</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">obj</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> pickedArr</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">K</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">let</span><span class="token plain"> result</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#ffcb6b">Object</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token method function property-access" style="color:#82aaff">assign</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">obj </span><span class="token operator" style="color:rgb(137, 221, 255)">!==</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">null</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">typeof</span><span class="token plain"> obj </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;object&#x27;</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    result </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token keyword" style="color:#c792ea;font-style:italic">const</span><span class="token plain"> key </span><span class="token keyword" style="color:#c792ea;font-style:italic">of</span><span class="token plain"> pickedArr</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="color:#c792ea;font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token known-class-name class-name" style="color:#ffcb6b">Object</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token method function property-access" style="color:#82aaff">hasOwnProperty</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token method function property-access" style="color:#82aaff">call</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> key</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        result</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">return</span><span class="token plain"> result</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>上面这个例子中泛型参数 <code>T</code> 受到了类型 <code>Record&lt;string | number, unknown</code> 的约束，那么 <code>boj</code> 参数在传入的时候必须满足该约束。</p><p>同理，<code>pickedArr</code> 参数在传入时需要满足 <code>string[]</code> 类型约束。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token function" style="color:#82aaff">pick</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;aaa&#x27;</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a&#x27;</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;c&#x27;</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 报错</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:#82aaff">pick</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"> a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">1</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> b</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">2</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> c</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;3&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a&#x27;</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 报错</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:#82aaff">pick</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"> a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">1</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> b</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">2</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> c</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;3&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a&#x27;</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;c&#x27;</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 通过</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>泛型约束与直接声明形参类型约束作用是相同的，区别在于泛型参数可以在函数体中的其他地方被引用。</p></blockquote><p>不难发现上面这个 <code>pick</code> 方法的类型声明效果其实并不理想，我们希望该方法可以自动推断出传入的类型，<code>pickedArr</code> 的数组成员必须是 <code>obj</code> 中的已知属性，并且可以返回一个选取后的高精度类型。可以做以下优化：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:#82aaff">pick</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token generic-function generic class-name constant" style="color:#82aaff">T</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name maybe-class-name" style="color:#ffcb6b">Record</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token generic-function generic class-name builtin" style="color:#82aaff">string</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">|</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name builtin" style="color:#82aaff">number</span><span class="token generic-function generic class-name punctuation" style="color:#89ddff">,</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name builtin" style="color:#82aaff">unknown</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token generic-function generic class-name punctuation" style="color:#89ddff">,</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name constant" style="color:#82aaff">K</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name keyword" style="color:#c792ea;font-style:italic">keyof</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name constant" style="color:#82aaff">T</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">obj</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> pickedArr</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">K</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Pick</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:#82aaff">T</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">K</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">let</span><span class="token plain"> result </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#ffcb6b">Object</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token method function property-access" style="color:#82aaff">assign</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">obj </span><span class="token operator" style="color:rgb(137, 221, 255)">!==</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">null</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;&amp;</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">typeof</span><span class="token plain"> obj </span><span class="token operator" style="color:rgb(137, 221, 255)">===</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;object&#x27;</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    result </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">for</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token keyword" style="color:#c792ea;font-style:italic">const</span><span class="token plain"> key </span><span class="token keyword" style="color:#c792ea;font-style:italic">of</span><span class="token plain"> pickedArr</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="color:#c792ea;font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token known-class-name class-name" style="color:#ffcb6b">Object</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token property-access">prototype</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token method function property-access" style="color:#82aaff">hasOwnProperty</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token method function property-access" style="color:#82aaff">call</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">obj</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> key</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        result</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> obj</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">return</span><span class="token plain"> result</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="extends-三元判断"></a>extends 三元判断<a class="hash-link" href="#extends-三元判断" title="Direct link to heading">#</a></h2><p>例子 1：实现一个 If 泛型</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">If</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name constant" style="color:#82aaff">C</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name builtin" style="color:#82aaff">boolean</span><span class="token class-name punctuation" style="color:#89ddff">,</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token class-name punctuation" style="color:#89ddff">,</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name constant" style="color:#82aaff">F</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">C</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">F</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// type A = If&lt;true, &#x27;a&#x27;, &#x27;b&#x27;&gt;  // =&gt; &#x27;a&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// type B = If&lt;false, &#x27;a&#x27;, &#x27;b&#x27;&gt; // =&gt; &#x27;b&#x27;</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>例子 2：当函数参数为 <code>string</code> 时返回值类型为 <code>string</code> ，否则返回 <code>number</code></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">TypeName</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name constant" style="color:#82aaff">P</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">param</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">P</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">P</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name builtin" style="color:#82aaff">string</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">number</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="infer"></a>infer<a class="hash-link" href="#infer" title="Direct link to heading">#</a></h2><p>infer 表示在 extends 条件语句中待推断的类型变量。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** 获取 Promise 返回值 */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">Awaited</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name known-class-name class-name" style="color:#ffcb6b">Promise</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name" style="color:#ffcb6b">infer </span><span class="token class-name constant" style="color:#82aaff">U</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">U</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">never</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** 获取 Promise 返回值 (递归) */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">AwaitedDeep</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name known-class-name class-name" style="color:#ffcb6b">Promise</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name" style="color:#ffcb6b">infer </span><span class="token class-name constant" style="color:#82aaff">U</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token constant" style="color:#82aaff">U</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name known-class-name class-name" style="color:#ffcb6b">Promise</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name builtin" style="color:#82aaff">unknown</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Awaited</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:#82aaff">U</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">U</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">never</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="内置泛型工具"></a>内置泛型工具<a class="hash-link" href="#内置泛型工具" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="partial---将类型中所有属性转为非必填"></a>Partial - 将类型中所有属性转为非必填<a class="hash-link" href="#partial---将类型中所有属性转为非必填" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  b</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  c</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Partial</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:#82aaff">T</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// type T2 = {</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   a?: string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   b?: string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   c?: string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// }</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="required---将类型中所有属性转换为必填"></a>Required - 将类型中所有属性转换为必填<a class="hash-link" href="#required---将类型中所有属性转换为必填" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Required</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:#82aaff">T</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// type T2 = {</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   a: string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   b: string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   c: string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// }</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="readonly---将类型中所有属性转换为只读"></a>Readonly - 将类型中所有属性转换为只读<a class="hash-link" href="#readonly---将类型中所有属性转换为只读" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Readonly</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:#82aaff">T</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">readonly</span><span class="token plain"> a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">readonly</span><span class="token plain"> b</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">readonly</span><span class="token plain"> c</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="pick---从一个类型中选取某些属性得到一个新类型"></a>Pick - 从一个类型中选取某些属性得到一个新类型<a class="hash-link" href="#pick---从一个类型中选取某些属性得到一个新类型" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Pick</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:#82aaff">T</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;c&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// type T2 = {</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   a: string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   c: string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// }</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="omit---从一个类型中排除某些属性得到一个新类型"></a>Omit - 从一个类型中排除某些属性得到一个新类型<a class="hash-link" href="#omit---从一个类型中排除某些属性得到一个新类型" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Omit</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:#82aaff">T</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;c&#x27;</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// type T2 = {</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   b: string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// }</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="record---构建一个对象类型"></a>Record - 构建一个对象类型<a class="hash-link" href="#record---构建一个对象类型" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Record</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token builtin" style="color:#82aaff">string</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">unknown</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// type T2 = {</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   [K:string]: unknown</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// }</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Record</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="color:#c792ea;font-style:italic">keyof</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">unknown</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// type T2 = {</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   a: unknown</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   b: unknown</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   c: unknown</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// }</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="parameters---获取函数的参数类型"></a>Parameters - 获取函数的参数类型<a class="hash-link" href="#parameters---获取函数的参数类型" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Parameters</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="color:#c792ea;font-style:italic">typeof</span><span class="token plain"> pick</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// type T2 = [obj: Record&lt;string | number, unknown&gt;, pickedArr: (string | number)[]]</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="constructorparameters---获取一个类的构造函数的参数"></a>ConstructorParameters - 获取一个类的构造函数的参数<a class="hash-link" href="#constructorparameters---获取一个类的构造函数的参数" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">class</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">ClassName</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">constructor</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">props</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Record</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token builtin" style="color:#82aaff">string</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">unknown</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">ConstructorParameters</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="color:#c792ea;font-style:italic">typeof</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">ClassName</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// type T2 = [props: Record&lt;string, unknown&gt;]</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="returntype---获取函数返回值"></a>ReturnType - 获取函数返回值<a class="hash-link" href="#returntype---获取函数返回值" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">ReturnType</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token keyword" style="color:#c792ea;font-style:italic">typeof</span><span class="token plain"> pick</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// type T2 = {</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   [x: string]: unknown;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   [x: number]: unknown;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// }</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="nonnullable---从联合类型中排除-null-和-undefined"></a>NonNullable - 从联合类型中排除 null 和 undefined<a class="hash-link" href="#nonnullable---从联合类型中排除-null-和-undefined" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">null</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">number</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;1&#x27;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">|</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">2</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T2</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">NonNullable</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token constant" style="color:#82aaff">T</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// type T2 = string | number</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="使用泛型工具实现类型重写"></a>使用泛型工具实现类型重写<a class="hash-link" href="#使用泛型工具实现类型重写" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  b</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">number</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T2</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">Omit</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token class-name punctuation" style="color:#89ddff">,</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name string" style="color:rgb(195, 232, 141)">&#x27;a&#x27;</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  a</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// T2 = {</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   a: string[]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">//   b: number</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// }</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="一些自定义泛型工具"></a>一些自定义泛型工具<a class="hash-link" href="#一些自定义泛型工具" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="数组转联合"></a>数组转联合<a class="hash-link" href="#数组转联合" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">TupleToUnion</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name keyword" style="color:#c792ea;font-style:italic">readonly</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name builtin" style="color:#82aaff">unknown</span><span class="token class-name punctuation" style="color:#89ddff">[</span><span class="token class-name punctuation" style="color:#89ddff">]</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token builtin" style="color:#82aaff">number</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// TupleToUnion&lt;[1, 2, &#x27;3&#x27;]&gt; // expected to be 1 | 2 | &#x27;3&#x27;</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="获取数组长度"></a>获取数组长度<a class="hash-link" href="#获取数组长度" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">Length</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name keyword" style="color:#c792ea;font-style:italic">readonly</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name builtin" style="color:#82aaff">unknown</span><span class="token class-name punctuation" style="color:#89ddff">[</span><span class="token class-name punctuation" style="color:#89ddff">]</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;length&#x27;</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Length&lt;[0, 0, 0]&gt;  // expected 3</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="数组转对象"></a>数组转对象<a class="hash-link" href="#数组转对象" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">TupleToObject</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name keyword" style="color:#c792ea;font-style:italic">readonly</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name builtin" style="color:#82aaff">unknown</span><span class="token class-name punctuation" style="color:#89ddff">[</span><span class="token class-name punctuation" style="color:#89ddff">]</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">[</span><span class="token constant" style="color:#82aaff">P</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">in</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token builtin" style="color:#82aaff">number</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">P</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// TupleToObject&lt;[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]&gt; // expected {a:&#x27;a&#x27;, b:&#x27;b&#x27;, c:&#x27;c&#x27;  }</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="获取数组第一个元素"></a>获取数组第一个元素<a class="hash-link" href="#获取数组第一个元素" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">First</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name keyword" style="color:#c792ea;font-style:italic">readonly</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name builtin" style="color:#82aaff">unknown</span><span class="token class-name punctuation" style="color:#89ddff">[</span><span class="token class-name punctuation" style="color:#89ddff">]</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;length&#x27;</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">0</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">never</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token number" style="color:#f78c6c">0</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// First&lt;[&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]]&gt; // expected to be &#x27;a&#x27;</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="拼接两个数组"></a>拼接两个数组<a class="hash-link" href="#拼接两个数组" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">Concat</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name builtin" style="color:#82aaff">unknown</span><span class="token class-name punctuation" style="color:#89ddff">[</span><span class="token class-name punctuation" style="color:#89ddff">]</span><span class="token class-name punctuation" style="color:#89ddff">,</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name constant" style="color:#82aaff">U</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name builtin" style="color:#82aaff">unknown</span><span class="token class-name punctuation" style="color:#89ddff">[</span><span class="token class-name punctuation" style="color:#89ddff">]</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">[</span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token constant" style="color:#82aaff">T</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token spread operator" style="color:rgb(137, 221, 255)">...</span><span class="token constant" style="color:#82aaff">U</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Concat&lt;[&#x27;a&#x27;, &#x27;b&#x27;], [&#x27;c&#x27;]]&gt; // expected to be [&#x27;a&#x27;, &#x27;b&#x27;, &#x27;c&#x27;]</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="includes"></a>Includes<a class="hash-link" href="#includes" title="Direct link to heading">#</a></h3><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">type</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">Includes</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name keyword" style="color:#c792ea;font-style:italic">readonly</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name builtin" style="color:#82aaff">unknown</span><span class="token class-name punctuation" style="color:#89ddff">[</span><span class="token class-name punctuation" style="color:#89ddff">]</span><span class="token class-name punctuation" style="color:#89ddff">,</span><span class="token class-name" style="color:#ffcb6b"> </span><span class="token class-name constant" style="color:#82aaff">U</span><span class="token class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">U</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">T</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token builtin" style="color:#82aaff">number</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">true</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token boolean" style="color:rgb(255, 88, 116)">false</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="函数重载-overload"></a>函数重载 (Overload)<a class="hash-link" href="#函数重载-overload" title="Direct link to heading">#</a></h2><p>用于根据单个函数传入参数的不同来分配不同的返回值类型类型。</p><p>相关文档: <a href="https://www.typescriptlang.org/docs/handbook/2/functions.html#function-overloads" target="_blank" rel="noopener noreferrer">https://www.typescriptlang.org/docs/handbook/2/functions.html#function-overloads</a></p><p>例子：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">ConfigType</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  a</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  b</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  c</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">number</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:#82aaff">getConfig</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">key</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">keyof</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">ConfigType</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">let</span><span class="token plain"> config</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">ConfigType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    config </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#ffcb6b">JSON</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token method function property-access" style="color:#82aaff">parse</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token dom variable" style="color:#a6accd">localStorage</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token method function property-access" style="color:#82aaff">getItem</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;app-config&#x27;</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">return</span><span class="token plain"> config</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">return</span><span class="token plain"> config</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><ul><li>如果传入 key, 那么从对象 <code>config</code> 中取出并返回这个 key 对应的值。</li><li>如果不传入, 那么将返回完整的 <code>config</code> 对象。</li></ul><p>TS 可以自动推断出这个函数的返回值类型为：<code>string | number | ConfigType</code>, 但是这并不理想，我们希望它可以更精准一些。</p><p>这个时候就可以使用函数重载来实现, 如下所示：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">ConfigType</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  a</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  b</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  c</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">number</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:#82aaff">getConfig</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">ConfigType</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">function</span><span class="token plain"> </span><span class="token generic-function function" style="color:#82aaff">getConfig</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token generic-function generic class-name constant" style="color:#82aaff">T</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name keyword" style="color:#c792ea;font-style:italic">keyof</span><span class="token generic-function generic class-name" style="color:#ffcb6b"> </span><span class="token generic-function generic class-name maybe-class-name" style="color:#ffcb6b">ConfigType</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">key</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">T</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">ConfigType</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token constant" style="color:#82aaff">T</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">function</span><span class="token plain"> </span><span class="token function" style="color:#82aaff">getConfig</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">key</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">keyof</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">ConfigType</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">let</span><span class="token plain"> config</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">ConfigType</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">try</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    config </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#ffcb6b">JSON</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token method function property-access" style="color:#82aaff">parse</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token dom variable" style="color:#a6accd">localStorage</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token method function property-access" style="color:#82aaff">getItem</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;app-config&#x27;</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">catch</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">key</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">return</span><span class="token plain"> config</span><span class="token punctuation" style="color:#89ddff">[</span><span class="token plain">key</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">return</span><span class="token plain"> config</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:#82aaff">getConfig</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// function getConfig(): ConfigType (+1 overload)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:#82aaff">getConfig</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;a&#x27;</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// function getConfig&lt;&quot;a&quot;&gt;(key: &quot;a&quot;): string (+1 overload)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token function" style="color:#82aaff">getConfig</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;c&#x27;</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// function getConfig&lt;&quot;c&quot;&gt;(key: &quot;c&quot;): number (+1 overload)</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="引用内置类型"></a>引用内置类型<a class="hash-link" href="#引用内置类型" title="Direct link to heading">#</a></h2><p><code>tslib</code> 中包含了大量的内置类型, 如 <code>HtmlElement</code>, <code>Event</code>, <code>Window</code>, <code>WindowEventMap</code> 等, 这些类型是针对 Javascript 基础语法的默认声明。</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">const</span><span class="token plain"> el </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#a6accd">document</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token method function property-access" style="color:#82aaff">querySelector</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;#id .class&#x27;</span><span class="token punctuation" style="color:#89ddff">)</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>这行代码是获取某一个 DOM 元素，看上去没什么问题，但由于 DOM 元素的多样性，TS 无法定位到具体哪一个元素类型，所以变量 <code>el</code> 的推断类型默认是 <code>Element</code>, 如下图所示： <img src="https://lanten.coding.net/p/image-hub/d/image-hub/git/raw/master/0/098a285f8b110936c1a779c91d3c28836ef0f833cbc47e0962f8c46624a1999f.png" alt="图 1"><br>
这个时候 <code>el</code> 在类型上并没有继承到 dom 的原型： <img src="https://lanten.coding.net/p/image-hub/d/image-hub/git/raw/master/0/0e5cf8bcee5fa7123bea998fbb2a686ba5abe55c6be65f387d7837a911fdf101.png" alt="图 2"><br>
作为开发者，我们可以知道获取元素的具体类型，比如这个元素是一个 <code>div</code>, 那么就可以通过泛型参数的传递来告诉 TS 我要获取的元素的类型：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">const</span><span class="token plain"> el </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#a6accd">document</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token generic-function function" style="color:#82aaff">querySelector</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token generic-function generic class-name maybe-class-name" style="color:#ffcb6b">HTMLDivElement</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;#id .class&#x27;</span><span class="token punctuation" style="color:#89ddff">)</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p><img src="https://lanten.coding.net/p/image-hub/d/image-hub/git/raw/master/0/92e788eb6e43f9baee4cbdb47c6843d7f99ccff986ffb5303e0b319ac5ae6de7.png" alt="图 3"></p><p>不同的元素类型不同，比如遇 <code>input</code> 元素：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">const</span><span class="token plain"> el </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token dom variable" style="color:#a6accd">document</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token generic-function function" style="color:#82aaff">querySelector</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token generic-function generic class-name maybe-class-name" style="color:#ffcb6b">HTMLInputElement</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;#id .class&#x27;</span><span class="token punctuation" style="color:#89ddff">)</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>接下来 <code>el</code> 将获得 <code>input</code> 元素特有的属性：</p><p><img src="https://lanten.coding.net/p/image-hub/d/image-hub/git/raw/master/0/3293ccdcea73687c0536d8a8f56219480c0d2728ca75efa6a3670b4541c2f782.png" alt="图 4"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="实例-在-react-中使用"></a>实例: 在 React 中使用<a class="hash-link" href="#实例-在-react-中使用" title="Direct link to heading">#</a></h2><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">import</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">React</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;react&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">AppProps</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** 展示状态 */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  show</span><span class="token operator" style="color:rgb(137, 221, 255)">?</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">boolean</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** 展示内容 */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  content</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">React</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token maybe-class-name" style="color:#ffcb6b">ReactNode</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">AppState</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  count</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">number</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">class</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">App</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">React</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token maybe-class-name" style="color:#ffcb6b">Component</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name" style="color:#ffcb6b">AppProps</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">AppState</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">readonly</span><span class="token plain"> state</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">AppState</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    count</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">0</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** 定时器 */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">private</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">TM</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">NodeJS</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token maybe-class-name" style="color:#ffcb6b">Timeout</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">constructor</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token parameter">props</span><span class="token parameter operator" style="color:rgb(137, 221, 255)">:</span><span class="token parameter"> AppProps</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">super</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">props</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">this</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token constant" style="color:#82aaff">TM</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:#82aaff">setInterval</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token keyword" style="color:#c792ea;font-style:italic">this</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token function" style="color:#82aaff">setState</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"> count</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">this</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token plain">state</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token plain">count </span><span class="token operator" style="color:rgb(137, 221, 255)">+</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">1</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">1000</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:#82aaff">render</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"> show</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> content </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">this</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token plain">props</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"> count </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">this</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token plain">state</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token operator" style="color:rgb(137, 221, 255)">!</span><span class="token plain">show</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">null</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token tag punctuation" style="color:#89ddff">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:#89ddff">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain">content</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain">count</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token tag punctuation" style="color:#89ddff">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:#89ddff">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:#82aaff">componentWillUnmount</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token function" style="color:#82aaff">clearInterval</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token keyword" style="color:#c792ea;font-style:italic">this</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token constant" style="color:#82aaff">TM</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>React 函数式组件：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">import</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">React</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;react&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">AppProps</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  content</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">React</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token maybe-class-name" style="color:#ffcb6b">ReactNode</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">const</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">App</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">React</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token constant" style="color:#82aaff">FC</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name" style="color:#ffcb6b">AppProps</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token parameter">props</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">[</span><span class="token plain">count</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> setCount</span><span class="token punctuation" style="color:#89ddff">]</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">React</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token generic-function function" style="color:#82aaff">useState</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token generic-function generic class-name builtin" style="color:#82aaff">number</span><span class="token generic-function generic class-name operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token number" style="color:#f78c6c">0</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:#89ddff">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:#89ddff">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain">props</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token plain">content</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain">count</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token tag punctuation" style="color:#89ddff">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:#89ddff">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="高级注释"></a>高级注释<a class="hash-link" href="#高级注释" title="Direct link to heading">#</a></h2><p>ts 中的注释遵循 <a href="https://tsdoc.org/" target="_blank" rel="noopener noreferrer">tsdoc</a> 规范，并在 vscode 中支持 <a href="https://www.markdownguide.org/getting-started/" target="_blank" rel="noopener noreferrer">markdown</a> 语法。</p><p>健全良好的注释可以提升代码的可维护性，例子：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly tsx"><pre tabindex="0" class="prism-code language-tsx codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">import</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">React</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">from</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;react&#x27;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">Props</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">interface</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">State</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * @module 组件名称</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> *</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * 组件的详细说明 bala bala .....</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> *</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * - [x] 功能点1：bala bala...</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * - [x] 功能点2：[一个链接](https://www.typescriptlang.org/docs/handbook/2/basic-types.html), 直接贴地址也可以 https://www.typescriptlang.org/docs/handbook/2/basic-types.html</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * - [ ] ~~功能点3：(已废弃) ...~~</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * - [ ] ...</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> *</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * - [ ] 测试用例1：.....</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * - [ ] 测试用例2：.....</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * - [ ] ....</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> *</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * - [ ] BUG: xxxx http://jira.huazhu.com/xxxxx</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> *</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> * ![img](https://lanten.coding.net/p/image-hub/d/image-hub/git/raw/master/0/82d99852b7a58ef98279a8838bf5e28329d52068b07421ce897a7b00d834806a.gif?download=false)</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic"> */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">export</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">class</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">App</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">extends</span><span class="token plain"> </span><span class="token class-name maybe-class-name" style="color:#ffcb6b">React</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token maybe-class-name" style="color:#ffcb6b">Component</span><span class="token operator" style="color:rgb(137, 221, 255)">&lt;</span><span class="token maybe-class-name" style="color:#ffcb6b">Props</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">State</span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/** 渲染头部内容 */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:#82aaff">renderHeader</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">JSX</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token maybe-class-name" style="color:#ffcb6b">Element</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#89ddff">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:#89ddff">&gt;</span><span class="token plain">header</span><span class="token tag punctuation" style="color:#89ddff">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:#89ddff">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * 方法说明 bala bala...</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   *</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * @param text 相关参数说明</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * @returns 返回一个 JSX Element</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:#82aaff">renderContent</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain">text</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token builtin" style="color:#82aaff">string</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token constant" style="color:#82aaff">JSX</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token maybe-class-name" style="color:#ffcb6b">Element</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">return</span><span class="token plain"> </span><span class="token tag punctuation" style="color:#89ddff">&lt;</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:#89ddff">&gt;</span><span class="token plain">content</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain">text</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token tag punctuation" style="color:#89ddff">&lt;/</span><span class="token tag" style="color:rgb(255, 85, 114)">div</span><span class="token tag punctuation" style="color:#89ddff">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">/**</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * 废弃方法，例如某些方法已经不再推荐使用，但是还需要兼容老代码的情况下使用</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   *</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   * @deprecated</span></span><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">   */</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function-variable function" style="color:#82aaff">renderFooter</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=&gt;</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">null</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:#82aaff">render</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token keyword" style="color:#c792ea;font-style:italic">return</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">(</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token tag punctuation" style="color:#89ddff">&lt;</span><span class="token tag punctuation" style="color:#89ddff">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token keyword" style="color:#c792ea;font-style:italic">this</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token function" style="color:#82aaff">renderHeader</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token keyword" style="color:#c792ea;font-style:italic">this</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token function" style="color:#82aaff">renderContent</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;ok&#x27;</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">        </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token keyword" style="color:#c792ea;font-style:italic">this</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token function" style="color:#82aaff">renderFooter</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">      </span><span class="token tag punctuation" style="color:#89ddff">&lt;/</span><span class="token tag punctuation" style="color:#89ddff">&gt;</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">    </span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="unique-唯一值"></a>unique 唯一值<a class="hash-link" href="#unique-唯一值" title="Direct link to heading">#</a></h2><p>unique 关键字用于表示全局唯一值，unique 后面必跟 symbol unique unique</p><p>unique 非常特殊，即表示类型，又可以直接作为值来使用</p><p>官方文档：<a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html" target="_blank" rel="noopener noreferrer">https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html</a></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Works</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">declare</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">const</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Foo</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> unique </span><span class="token builtin" style="color:#82aaff">symbol</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Error! &#x27;Bar&#x27; isn&#x27;t a constant.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">let</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Bar</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> unique </span><span class="token builtin" style="color:#82aaff">symbol</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#ffcb6b">Symbol</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Works - refers to a unique symbol, but its identity is tied to &#x27;Foo&#x27;.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">let</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Baz</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">typeof</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Foo</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Foo</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Also works.</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">class</span><span class="token plain"> </span><span class="token class-name constant" style="color:#82aaff">C</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="color:#c792ea;font-style:italic">static</span><span class="token plain"> </span><span class="token keyword" style="color:#c792ea;font-style:italic">readonly</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">StaticSymbol</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> unique </span><span class="token builtin" style="color:#82aaff">symbol</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token known-class-name class-name" style="color:#ffcb6b">Symbol</span><span class="token punctuation" style="color:#89ddff">(</span><span class="token punctuation" style="color:#89ddff">)</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="枚举类型-enum"></a>枚举类型 enum<a class="hash-link" href="#枚举类型-enum" title="Direct link to heading">#</a></h2><p>枚举是组织收集有关联变量的一种方式，许多程序语言（如：c/c#/Java）都有枚举数据类型。</p><p>相关文档：<a href="https://jkchao.github.io/typescript-book-chinese/typings/enums.html" target="_blank" rel="noopener noreferrer">https://jkchao.github.io/typescript-book-chinese/typings/enums.html</a></p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">enum</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">CardSuit</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name" style="color:#ffcb6b">Clubs</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 0</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name" style="color:#ffcb6b">Diamonds</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 1</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name" style="color:#ffcb6b">Hearts</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 2</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name" style="color:#ffcb6b">Spades</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 3</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 简单的使用枚举类型</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">let</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">Card</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">CardSuit</span><span class="token punctuation" style="color:#89ddff">.</span><span class="token property-access maybe-class-name" style="color:#ffcb6b">Clubs</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 0</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 类型安全</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token maybe-class-name" style="color:#ffcb6b">Card</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&#x27;not a member of card suit&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Error: string 不能赋值给 `CardSuit` 类型</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>手动关联值：</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly ts"><pre tabindex="0" class="prism-code language-ts codeBlock_23N8 thin-scrollbar" style="color:#bfc7d5;background-color:#282e3a"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#bfc7d5"><span class="token keyword" style="color:#c792ea;font-style:italic">enum</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">CardSuit</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name" style="color:#ffcb6b">Clubs</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">5</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 5</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name" style="color:#ffcb6b">Diamonds</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 6</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name" style="color:#ffcb6b">Hearts</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 7</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name" style="color:#ffcb6b">Spades</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 8</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="color:#c792ea;font-style:italic">enum</span><span class="token plain"> </span><span class="token maybe-class-name" style="color:#ffcb6b">CardSuit2</span><span class="token plain"> </span><span class="token punctuation" style="color:#89ddff">{</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name" style="color:#ffcb6b">Clubs</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 0</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name" style="color:#ffcb6b">Diamonds</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token number" style="color:#f78c6c">5</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 6</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name" style="color:#ffcb6b">Hearts</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 7</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token maybe-class-name" style="color:#ffcb6b">Spades</span><span class="token punctuation" style="color:#89ddff">,</span><span class="token plain"> </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// 8</span><span class="token plain"></span></span><span class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:#89ddff">}</span></span></code></pre><button type="button" aria-label="复制代码到剪辑版" class="copyButton_Ue-o clean-btn">Copy</button></div></div><blockquote><p>在手动关联的值后面未关联的部分的值依次递增</p></blockquote><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="class-类的语法扩展"></a>class 类的语法扩展<a class="hash-link" href="#class-类的语法扩展" title="Direct link to heading">#</a></h2><p>略...</p><p>官方文档：<a href="https://www.typescriptlang.org/docs/handbook/2/classes.html" target="_blank" rel="noopener noreferrer">https://www.typescriptlang.org/docs/handbook/2/classes.html</a></p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="总结"></a>总结<a class="hash-link" href="#总结" title="Direct link to heading">#</a></h2><ul><li>目前我个人所整理的 TS 类型系统相关的常用内容都在这里了。</li><li>TS 除了类型系统外，还有少量的运行时的语法扩展，比如枚举类型 <code>enum</code>, <code>class</code> 类的扩展等。</li><li>通过在开发过程中查阅第三方库的类型声明，实现自我学习，无需刻意花时间查阅在线文档及教程。</li><li>对于复杂类型接口的见识越广，那么面对一个陌生类库的难度就会越低，形成一个良性循环。</li><li>灵活运用泛型，将可复用泛型抽象封装。</li><li>尽可能收窄类型约束，提高类型精度，追求高质量代码。</li><li>无关紧要的高精度声明不宜耗费太长时间，该偷懒的还是要偷懒，避免延误工期。</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="参考"></a>参考<a class="hash-link" href="#参考" title="Direct link to heading">#</a></h2><ul><li>Typescript 官方文档：<a href="https://www.typescriptlang.org/docs/handbook/2/basic-types.html" target="_blank" rel="noopener noreferrer">https://www.typescriptlang.org/docs/handbook/2/basic-types.html</a></li><li>TS 3.1 中文文档：<a href="https://www.tslang.cn/docs/home.html" target="_blank" rel="noopener noreferrer">https://www.tslang.cn/docs/home.html</a></li><li>深入理解 Typescript：<a href="https://basarat.gitbook.io/typescript/type-system" target="_blank" rel="noopener noreferrer">https://basarat.gitbook.io/typescript/type-system</a></li><li>Typescript 高级类型：<a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html" target="_blank" rel="noopener noreferrer">https://www.typescriptlang.org/docs/handbook/advanced-types.html</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="ts-练习题"></a>TS 练习题<a class="hash-link" href="#ts-练习题" title="Direct link to heading">#</a></h2><ul><li><a href="https://github.com/type-challenges/type-challenges" target="_blank" rel="noopener noreferrer">https://github.com/type-challenges/type-challenges</a></li></ul></div><footer class="row mt-24 blogPostDetailsFull_3bEF"><div class="col"><b>标签:</b><a class="margin-horiz--sm" href="/blog/tags/前端">前端</a><a class="margin-horiz--sm" href="/blog/tags/web">web</a><a class="margin-horiz--sm" href="/blog/tags/typescript">Typescript</a></div></footer></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/typescript-base"><div class="pagination-nav__sublabel">上一篇</div><div class="pagination-nav__label">« Typescript - 基础篇</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/web-performance-optimization"><div class="pagination-nav__sublabel">下一篇</div><div class="pagination-nav__label">关于 WEB 性能优化 »</div></a></div></nav><div id="gitalk-container" class="mt-24"></div></main><div class="col col--2"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#三斜杠--reference-导入" class="table-of-contents__link">三斜杠 + reference 导入</a></li><li><a href="#从文件中直接引用类型" class="table-of-contents__link">从文件中直接引用类型</a></li><li><a href="#namespace-命名空间" class="table-of-contents__link">namespace 命名空间</a></li><li><a href="#模板字符串类型" class="table-of-contents__link">模板字符串类型</a></li><li><a href="#动态索引声明" class="table-of-contents__link">动态索引声明</a></li><li><a href="#keyof-将一个类型的索引映射为联合类型" class="table-of-contents__link">keyof 将一个类型的索引映射为联合类型</a></li><li><a href="#in" class="table-of-contents__link">in</a></li><li><a href="#索引引用" class="table-of-contents__link">索引引用</a></li><li><a href="#声明合并" class="table-of-contents__link">声明合并</a></li><li><a href="#泛型" class="table-of-contents__link">泛型</a><ul><li><a href="#泛型参数" class="table-of-contents__link">泛型参数</a></li><li><a href="#在函数中使用泛型" class="table-of-contents__link">在函数中使用泛型</a></li><li><a href="#泛型约束" class="table-of-contents__link">泛型约束</a></li></ul></li><li><a href="#extends-三元判断" class="table-of-contents__link">extends 三元判断</a></li><li><a href="#infer" class="table-of-contents__link">infer</a></li><li><a href="#内置泛型工具" class="table-of-contents__link">内置泛型工具</a><ul><li><a href="#partial---将类型中所有属性转为非必填" class="table-of-contents__link">Partial - 将类型中所有属性转为非必填</a></li><li><a href="#required---将类型中所有属性转换为必填" class="table-of-contents__link">Required - 将类型中所有属性转换为必填</a></li><li><a href="#readonly---将类型中所有属性转换为只读" class="table-of-contents__link">Readonly - 将类型中所有属性转换为只读</a></li><li><a href="#pick---从一个类型中选取某些属性得到一个新类型" class="table-of-contents__link">Pick - 从一个类型中选取某些属性得到一个新类型</a></li><li><a href="#omit---从一个类型中排除某些属性得到一个新类型" class="table-of-contents__link">Omit - 从一个类型中排除某些属性得到一个新类型</a></li><li><a href="#record---构建一个对象类型" class="table-of-contents__link">Record - 构建一个对象类型</a></li><li><a href="#parameters---获取函数的参数类型" class="table-of-contents__link">Parameters - 获取函数的参数类型</a></li><li><a href="#constructorparameters---获取一个类的构造函数的参数" class="table-of-contents__link">ConstructorParameters - 获取一个类的构造函数的参数</a></li><li><a href="#returntype---获取函数返回值" class="table-of-contents__link">ReturnType - 获取函数返回值</a></li><li><a href="#nonnullable---从联合类型中排除-null-和-undefined" class="table-of-contents__link">NonNullable - 从联合类型中排除 null 和 undefined</a></li></ul></li><li><a href="#使用泛型工具实现类型重写" class="table-of-contents__link">使用泛型工具实现类型重写</a></li><li><a href="#一些自定义泛型工具" class="table-of-contents__link">一些自定义泛型工具</a><ul><li><a href="#数组转联合" class="table-of-contents__link">数组转联合</a></li><li><a href="#获取数组长度" class="table-of-contents__link">获取数组长度</a></li><li><a href="#数组转对象" class="table-of-contents__link">数组转对象</a></li><li><a href="#获取数组第一个元素" class="table-of-contents__link">获取数组第一个元素</a></li><li><a href="#拼接两个数组" class="table-of-contents__link">拼接两个数组</a></li><li><a href="#includes" class="table-of-contents__link">Includes</a></li></ul></li><li><a href="#函数重载-overload" class="table-of-contents__link">函数重载 (Overload)</a></li><li><a href="#引用内置类型" class="table-of-contents__link">引用内置类型</a></li><li><a href="#实例-在-react-中使用" class="table-of-contents__link">实例: 在 React 中使用</a></li><li><a href="#高级注释" class="table-of-contents__link">高级注释</a></li><li><a href="#unique-唯一值" class="table-of-contents__link">unique 唯一值</a></li><li><a href="#枚举类型-enum" class="table-of-contents__link">枚举类型 enum</a></li><li><a href="#class-类的语法扩展" class="table-of-contents__link">class 类的语法扩展</a></li><li><a href="#总结" class="table-of-contents__link">总结</a></li><li><a href="#参考" class="table-of-contents__link">参考</a></li><li><a href="#ts-练习题" class="table-of-contents__link">TS 练习题</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">导航</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/README">笔记</a></li><li class="footer__item"><a class="footer__link-item" href="/blog">博客</a></li></ul></div><div class="col footer__col"><div class="footer__title">订阅</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" target="_blank" href="/blog/rss.xml">RSS</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" href="/blog/atom.xml">Atom</a></li></ul></div><div class="col footer__col"><div class="footer__title">许可</div><ul class="footer__items"><li class="footer__item"><a href="https://creativecommons.org/licenses/by-nc-sa/3.0/cn/" target="_blank" rel="noopener noreferrer" class="icon icon-cc footer__link-item"> BY-NC-SA 3.0 CN</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2022 <a href="https://github.com/lanten" target="_blank">Lanten</a>. Built with <a href="https://docusaurus.io/" target="_blank">Docusaurus</a>.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.aa66a4f9.js"></script>
<script src="/assets/js/main.e753ad49.js"></script>
</body>
</html>